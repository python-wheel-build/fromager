#!/usr/bin/env bash
#
# Git pre-commit hook to run quality checks
# This ensures all commits pass linting and type checking
#

set -e  # Exit immediately if any command fails

echo "Running pre-commit checks..."

# Run lint check
echo "ğŸ” Running lint check..."
if ! hatch run lint:check; then
    echo "âŒ Lint check failed. Please fix linting issues and try again."
    echo "   You can run 'hatch run lint:fix' to automatically fix many issues."
    exit 1
fi

# Run mypy type checking
echo "ğŸ” Running mypy type check..."
if ! hatch run mypy:check; then
    echo "âŒ MyPy type check failed. Please fix type annotations and try again."
    exit 1
fi

echo "âœ… All pre-commit checks passed!"